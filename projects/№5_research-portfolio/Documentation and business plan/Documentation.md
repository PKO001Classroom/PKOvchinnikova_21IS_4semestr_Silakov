# **Документация к проекту "Электронный портфолио студента-исследователя"**

## **1. Общее описание проекта**

**Электронный портфолио студента-исследователя** — это кроссплатформенное десктоп-приложение на Python для систематизации, управления и анализа академических достижений студентов-исследователей. Приложение позволяет вести учёт публикаций, конференций, грантов, достижений и другой научной деятельности с возможностью генерации профессиональных отчётов.

---

## **2. Архитектура проекта**

### **2.1. Структура файлов**
```
research_portfolio/
├── main.py                 # Основной файл приложения (GUI на Tkinter)
├── database.py             # Модуль работы с PostgreSQL
├── file_manager.py         # Модуль управления Markdown файлами
├── export_tools.py         # Модуль генерации отчётов (Excel, Word, графики)
├── config.py               # Конфигурационные параметры
├── test_imports.py         # Тест зависимостей
├── requirements.txt        # Список зависимостей
├── portfolio_md/           # Папка с Markdown файлами описаний
├── reports/                # Папка с генерируемыми отчётами
└── portfolio_*.xlsx/docx   # Примеры экспортированных отчётов
```

### **2.2. Технологический стек**
- **Язык программирования:** Python 3.8+
- **GUI фреймворк:** Tkinter
- **База данных:** PostgreSQL
- **Библиотеки:**
  - `psycopg2-binary` — работа с PostgreSQL
  - `openpyxl` — генерация Excel файлов
  - `python-docx` — генерация Word документов
  - `matplotlib` — создание графиков и диаграмм
  - `markdown` — преобразование Markdown в HTML
  - `pandas` — обработка данных (резерв)

---

## **3. Модули системы**

### **3.1. database.py — Модуль работы с базой данных**
**Назначение:** Управление всеми операциями с базой данных PostgreSQL.

**Основные функции:**
- Подключение к БД с автоматическим созданием базы при отсутствии
- Создание таблиц:
  - `entries` — основные записи портфолио
  - `coauthors` — уникальные соавторы
  - `entry_coauthors` — связи записей и соавторов
  - `activity_log` — журнал активности
- CRUD операции с записями
- Управление соавторами
- Сбор статистики для отчётов
- Логирование действий пользователя

**Ключевые методы:**
- `create_entry()` — создание новой записи
- `get_all_entries()` — получение всех записей
- `add_coauthor()` — добавление соавтора
- `get_statistics()` — сбор статистики
- `log_activity()` — запись в журнал активности

### **3.2. file_manager.py — Модуль управления файлами**
**Назначение:** Работа с Markdown файлами описаний.

**Основные функции:**
- Создание/чтение/обновление/удаление Markdown файлов
- Санитизация названий файлов
- Преобразование Markdown в HTML с CSS стилизацией
- Открытие файлов во внешнем браузере/редакторе

**Ключевые методы:**
- `create_md_file()` — создание файла с учётом ID и названия
- `open_md_file_external()` — открытие в браузере с преобразованием
- `sanitize_filename()` — очистка названий от недопустимых символов

### **3.3. export_tools.py — Модуль генерации отчётов**
**Назначение:** Создание профессиональных отчётов в Excel и Word форматах.

**Основные возможности:**
- **Excel отчёты:**
  - Таблицы с ключевыми показателями
  - Диаграммы распределения по типам
  - Графики динамики по годам
  - Статистика активности
- **Word отчёты:**
  - Титульный лист по ГОСТ
  - Автоматическое содержание
  - Структурированные разделы
  - Вставка графиков
  - Профессиональное форматирование

**Ключевые методы:**
- `generate_excel_report()` — комплексный Excel отчёт
- `generate_word_report()` — структурированный Word документ
- `create_charts()` — генерация PNG графиков

### **3.4. main.py — Основной GUI модуль**
**Назначение:** Пользовательский интерфейс приложения.

**Интерфейс разделён на секции:**
1. **Панель управления** — создание, сохранение, удаление записей
2. **Список записей** — Treeview с сортировкой и фильтрацией
3. **Редактор описания** — текстовый редактор с поддержкой Markdown
4. **Управление соавторами** — добавление и просмотр соавторов
5. **Аналитика** — вкладка с отчётами и статистикой

**Основной функционал:**
- Интуитивное управление записями
- Подсказки по синтаксису Markdown
- Экспорт в Excel/Word одним кликом
- Визуализация статистики

---

## **4. Установка и запуск**

### **4.1. Предварительные требования**
1. **Python 3.8 или выше**
2. **PostgreSQL 12+**
3. **Установленные зависимости:**
   ```bash
   pip install -r requirements.txt
   ```

### **4.2. Настройка базы данных**
1. Установите и запустите PostgreSQL
2. Создайте пользователя (если нужно):
   ```sql
   CREATE USER portfolio_user WITH PASSWORD 'your_password';
   ```
3. Приложение автоматически создаст базу `research_portfolio` при первом запуске

### **4.3. Конфигурация**
Отредактируйте `config.py` или настройки в `database.py`:
```python
DB_HOST = "localhost"
DB_NAME = "research_portfolio"
DB_USER = "postgres"
DB_PASSWORD = "your_password"  # Измените на ваш пароль!
DB_PORT = "5432"
```

### **4.4. Запуск приложения**
```bash
python main.py
```

---

## **5. Руководство пользователя**

### **5.1. Создание записи**
1. Введите название записи
2. Выберите тип из выпадающего списка
3. Укажите год
4. Нажмите "Создать"
5. Добавьте описание в Markdown редакторе
6. Сохраните изменения

### **5.2. Добавление соавторов**
1. Выберите запись в списке
2. Введите имя соавтора
3. Нажмите "Добавить соавтора"

### **5.3. Просмотр описания**
- Нажмите "Открыть описание" для просмотра в браузере
- Описание отображается в стилизованном HTML формате

### **5.4. Генерация отчётов**
1. Перейдите на вкладку "Аналитика и отчётность"
2. Нажмите "Сформировать отчёт"
3. Отчёты сохранятся в папке `reports/`
4. Также доступен экспорт в Excel/Word из главного окна

### **5.5. Использование Markdown**
Приложение поддерживает базовый синтаксис Markdown:
- **Заголовки:** `# Заголовок 1`, `## Заголовок 2`
- **Жирный текст:** `**жирный**`
- **Курсив:** `*курсив*`
- **Списки:** `- элемент списка`
- **Код:** ```код```
- **Цитаты:** `> текст цитаты`
- **Ссылки:** `[текст](URL)`

---

## **6. Безопасность**

### **6.1. Защита данных**
- Пароли БД хранятся в конфигурационных файлах
- Рекомендуется использовать .env файлы для хранения чувствительных данных
- Реализована санитизация входных данных

### **6.2. Рекомендации по безопасности**
1. Не коммитить конфигурационные файлы с паролями в Git
2. Использовать отдельного пользователя БД с ограниченными правами
3. Регулярно обновлять зависимости
4. Использовать брандмауэр для ограничения доступа к БД

---

## **7. Расширение функциональности**

### **7.1. Добавление новых типов записей**
В `main.py` измените список типов в `type_combo`:
```python
self.type_combo = ttk.Combobox(..., 
    values=["Публикация", "Конференция", "Грант", "Преподавание", "Достижение", "Новый тип"])
```

### **7.2. Кастомизация отчётов**
- Измените стили в `export_tools.py`
- Добавьте новые графики в `create_charts()`
- Настройте структуру Word документа в соответствующих методах

### **7.3. Интеграция с внешними системами**
Возможные направления расширения:
1. **Импорт из ORCID, Google Scholar**
2. **Экспорт в LaTeX для академических резюме**
3. **Интеграция с системами управления проектами**
4. **REST API для веб-доступа**

---

## **8. Техническая поддержка и устранение неисправностей**

### **8.1. Распространённые проблемы**
1. **Ошибка подключения к БД:**
   - Проверьте запущен ли сервер PostgreSQL
   - Проверьте логин и пароль в конфигурации
   - Убедитесь, что БД `research_portfolio` существует

2. **Отсутствующие зависимости:**
   - Запустите `python test_imports.py` для диагностики
   - Установите недостающие пакеты: `pip install имя_пакета`

3. **Проблемы с отображением графиков:**
   - Убедитесь, что установлен matplotlib
   - Для серверного использования: `matplotlib.use('Agg')`

### **8.2. Логирование**
- Проверьте вывод в консоли для диагностики ошибок
- Активность логируется в таблицу `activity_log`
- Файловые операции логируются в консоль

---

## **9. Лицензия и авторские права**

Проект разработан для академического использования. Код доступен для модификации и распространения с указанием авторства.

---

## **10. Контакты и обратная связь**

Для предложений по улучшению, сообщений об ошибках или вопросов:
- Создайте issue в репозитории проекта
- Обратитесь к разработчику через образовательное учреждение
